{% extends 'posts/base.html' %}

{% block title %}All Posts - VDW Blog{% endblock %}

{% block content %}
<div class="post-list">
    {% for post in posts %}
    <article class="post">
        <h2><a href="{% url 'post_detail' post.slug %}">{{ post.title }}</a></h2>
        <div class="post-meta">
            Published on {{ post.created_date|date:"F d, Y" }}
            {% if post.modified_date != post.created_date %}
                â€¢ Updated {{ post.modified_date|date:"F d, Y" }}
            {% endif %}
        </div>
        
        {% if post.meta_description %}
        <p>{{ post.meta_description }}</p>
        {% else %}
        <div class="markdown-content">
            {{ post.content_text|truncatewords:50 }}...
        </div>
        {% endif %}
        
        {% if post.tags.all %}
        <div class="tags">
            {% for tag in post.tags.all %}
            <a href="#" class="tag">{{ tag.name }}</a>
            {% endfor %}
        </div>
        {% endif %}
    </article>
    {% empty %}
    <p>No published posts yet.</p>
    {% endfor %}
</div>
{% endblock %}